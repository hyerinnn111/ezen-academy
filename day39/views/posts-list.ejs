<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('includes/head', { title: 'All Posts' }) %>
    <link rel="stylesheet" href="/styles/posts.css" />
  </head>

  <body>
    <%- include('includes/header') %>
    <main id="all-posts">
      <h1>All Posts</h1>
      <!-- 게시글이 0개일때 -->
      <% if( !posts || posts.length===0) { %>
      <p>포스팅된 글이 없어요 - 작성을 하시죠</p>
      <a class="btn" href="'/new-post"> 새로운 글 포스팅하기</a>
      <!-- 게시글이 존재할 때 -->
      <% } else { %>
      <ol id="posts-list">
        <!-- for문을 사용해서 sql안의 데이터를 하나씩 읽어들여서
        post-item 파일을 이용해서 데이터를 화면에 표시한다 -->
        <% for (const post of posts) { %>
        <li>
          <%- include('includes/post-item', {post: post})  %>
        </li>
       <% } %>
      </ol>
      <% } %>
    </main>
  </body>
</html>